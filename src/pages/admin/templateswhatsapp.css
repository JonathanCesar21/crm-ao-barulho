/* templateswhatsapp.css */
/* Escopo local para n√£o vazar estilos pra outras telas */
.tw-templates {
  --tw-gap: 16px;
  --tw-radius: 12px;
  --tw-shadow: 0 6px 20px rgba(0, 0, 0, .06);
  --tw-border: 1px solid rgba(0, 0, 0, .08);
  --tw-muted: rgba(0, 0, 0, .55);
  --tw-muted-2: rgba(0, 0, 0, .38);
  --tw-accent: #0ea5e9;
  /* azul suave para detalhes */
}

/* Cards padr√£o dessa tela (respeitando sua .card existente) */
.tw-templates .card {
  border: var(--tw-border);
  border-radius: var(--tw-radius);
  box-shadow: var(--tw-shadow);
  background: #fff;
  padding: 16px;
}

/* Cabe√ßalho geral */
.tw-templates .twt-header {
  display: grid;
  gap: 8px;
}

.tw-templates .twt-header h3 {
  font-weight: 600;
  font-size: 1.05rem;
}

.tw-templates .twt-subtle {
  color: var(--tw-muted);
  line-height: 1.45;
}

.tw-templates .twt-tip {
  margin-top: 6px;
  font-size: 12px;
  color: var(--tw-muted-2);
}

/* Bloco "Novo template" */
.tw-templates .twt-new {
  display: grid;
  gap: 12px;
}

.tw-templates .twt-section-title {
  font-weight: 600;
  font-size: .98rem;
}

/* Campos (inputs/textarea/select) ‚Äì harmonizar visual */
.tw-templates select,
.tw-templates textarea,
.tw-templates input[type="text"] {
  width: 100%;
  border: var(--tw-border);
  border-radius: 10px;
  padding: 10px 12px;
  line-height: 1.45;
  outline: none;
  transition: box-shadow .15s ease, border-color .15s ease;
  background: #fff;
}

.tw-templates select:focus,
.tw-templates textarea:focus,
.tw-templates input[type="text"]:focus {
  border-color: rgba(14, 165, 233, .45);
  box-shadow: 0 0 0 4px rgba(14, 165, 233, .12);
}

.tw-templates textarea {
  resize: vertical;
  min-height: 140px;
  font-family: inherit;
  font-size: .95rem;
}

/* Multiselect mais alto para conforto */
.tw-templates select[multiple] {
  min-height: 120px;
}

/* Linha de ajuda abaixo dos campos */
.tw-templates .twt-help {
  margin-top: 6px;
  font-size: 12px;
  color: var(--tw-muted-2);
}

/* Chips de vari√°veis */
.tw-templates .twt-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.tw-templates .twt-chip {
  border: var(--tw-border);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  line-height: 1;
  cursor: pointer;
  background: #fff;
  transition: background .15s ease, transform .05s ease;
}

.tw-templates .twt-chip:hover {
  background: rgba(0, 0, 0, .04);
}

.tw-templates .twt-chip:active {
  transform: translateY(1px);
}

/* Pr√©via da mensagem */
.tw-templates .twt-preview {
  margin-top: 8px;
  padding: 10px 12px;
  background: #f6f7f9;
  border: 1px solid rgba(0, 0, 0, .06);
  border-left: 4px solid var(--tw-accent);
  border-radius: 10px;
  font-size: .92rem;
  line-height: 1.5;
  max-height: 220px;
  white-space: pre-wrap;
}

/* Barra de a√ß√µes (Salvar/Excluir/Adicionar) */
.tw-templates .twt-actions {
  margin-top: 8px;
  display: flex;
  gap: 10px;
}

.tw-templates .twt-btn {
  border: var(--tw-border);
  border-radius: 10px;
  padding: 8px 14px;
  background: #fff;
  font-size: .92rem;
  cursor: pointer;
  transition: background .15s ease, box-shadow .15s ease, transform .05s ease;
}

.tw-templates .twt-btn:hover {
  background: rgba(0, 0, 0, .04);
}

.tw-templates .twt-btn:active {
  transform: translateY(1px);
}

.tw-templates .twt-btn-primary {
  border-color: rgba(14, 165, 233, .35);
  background: linear-gradient(180deg, #e6f6fe, #dff3fe);
}

.tw-templates .twt-btn-primary:hover {
  background: linear-gradient(180deg, #ddf2fe, #d6f0fe);
}

.tw-templates .twt-btn-danger {
  color: #dc2626;
  border-color: rgba(220, 38, 38, .25);
  background: linear-gradient(180deg, #fff6f6, #fff2f2);
}

.tw-templates .twt-btn-danger:hover {
  background: linear-gradient(180deg, #ffefef, #ffe9e9);
}

/* Grid da listagem (cards dos templates) */
.tw-templates .twt-grid {
  display: grid;
  gap: var(--tw-gap);
}

@media (min-width: 768px) {
  .tw-templates .twt-grid {
    grid-template-columns: 1fr 1fr;
  }
}

/* Cabe√ßalho do card de item com t√≠tulo + a√ß√µes √† direita */
.tw-templates .twt-item-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.tw-templates .twt-item-title {
  font-weight: 600;
}

/* Bloco de campo com label */
.tw-templates .twt-field {
  display: grid;
  gap: 6px;
}

.tw-templates .twt-label {
  font-size: .9rem;
  color: #111827;
  font-weight: 500;
}

/* Pequena separa√ß√£o entre se√ß√µes internas */
.tw-templates .twt-stack {
  display: grid;
  gap: 12px;
}

/* Estado vazio e carregando */
.tw-templates .twt-empty,
.tw-templates .twt-loading {
  color: var(--tw-muted);
}

/* Melhorar a apar√™ncia do <code> no texto */
.tw-templates code {
  background: #f6f7f9;
  border: 1px solid rgba(0, 0, 0, .06);
  border-radius: 6px;
  padding: 2px 6px;
  font-size: .85rem;
}

.tw-templates .twt-filters {
  display: grid;
  grid-template-columns: 1fr 220px 220px;
  gap: 10px;
  margin-top: 8px;
}

.tw-templates .twt-input,
.tw-templates .twt-select {
  width: 100%;
  border: var(--tw-border);
  border-radius: 10px;
  padding: 10px 12px;
  line-height: 1.45;
  background: #fff;
  outline: none;
  transition: box-shadow .15s ease, border-color .15s ease;
}

.tw-templates .twt-input:focus,
.tw-templates .twt-select:focus {
  border-color: rgba(14, 165, 233, .45);
  box-shadow: 0 0 0 4px rgba(14, 165, 233, .12);
}

/* ====== Lista compacta ====== */
.tw-templates .twt-list {
  display: grid;
  gap: 10px;
  margin-top: 12px;
}

.tw-templates .twt-list-item {
  text-align: left;
  border: var(--tw-border);
  border-radius: 12px;
  background: #fff;
  padding: 12px;
  box-shadow: var(--tw-shadow);
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .15s ease;
}

.tw-templates .twt-list-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 26px rgba(16, 24, 40, .08);
  background: #fcfdff;
}

.tw-templates .twt-list-top {
  display: flex;
  align-items: center;
  gap: 8px;
}

.tw-templates .twt-list-right {
  margin-left: auto;
  display: flex;
  gap: 8px;
}

.tw-templates .twt-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid rgba(0, 0, 0, .08);
  background: #f6f7f9;
  color: #374151;
}

.tw-templates .twt-badge--soft {
  background: #f0f3f7;
}

.tw-templates .twt-badge--global {
  background: #e8f3ff;
  border-color: #cfe7ff;
  color: #1e40af;
}

.tw-templates .twt-badge--campaign {
  background: #ecfdf5;
  border-color: #bbf7d0;
  color: #166534;
}

.tw-templates .twt-list-text {
  margin-top: 6px;
  font-size: .95rem;
  line-height: 1.5;
  color: #111827;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  /* mostra at√© 3 linhas */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ====== Modal ====== */
.tw-templates .twt-modalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.35);
  display: grid;
  place-items: center;
  z-index: 9999;
  padding: 16px;
}

/* üëá Alterado: vira flex-col e ganha max-height */
.tw-templates .twt-modalPanel {
  width: 100%;
  max-width: 760px;
  max-height: 88vh;
  /* <-- limite de altura da janela */
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  overflow: hidden;
  /* esconde qualquer bleed do filho */
  box-shadow: 0 20px 60px rgba(0, 0, 0, .18);
  display: flex;
  /* <-- novo */
  flex-direction: column;
  /* <-- novo */
}

.tw-templates .twt-modalHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 16px;
  border-bottom: 1px solid #eef0f4;
  background: #f8fafc;
  flex: 0 0 auto;
  /* <-- garante que n√£o cresce */
}

/* üëá Alterado: vira o √∫nico bloco rol√°vel */
.tw-templates .twt-modalBody {
  padding: 14px 16px;
  display: grid;
  gap: 12px;
  flex: 1 1 auto;
  /* ocupa o espa√ßo dispon√≠vel */
  overflow: auto;
  /* <-- scroll interno aqui */
}

.tw-templates .twt-modalFooter {
  padding: 12px 16px;
  border-top: 1px solid #eef0f4;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  background: #fff;
  flex: 0 0 auto;
  /* header/footer fixos */
}

/* Opcional: ajustar em telas menores */
@media (max-width: 820px) {
  .tw-templates .twt-modalPanel {
    max-width: 96vw;
    max-height: 90vh;
  }
}

/* Opcional: limite de altura do textarea dentro do modal */
.tw-templates .twt-modalBody textarea {
  max-height: 50vh;
}

/* Responsivo dos filtros */
@media (max-width: 820px) {
  .tw-templates .twt-filters {
    grid-template-columns: 1fr;
  }
}

/* ===== Layout em 2 colunas ===== */
.tw-templates .twt-columns {
  display: grid;
  grid-template-columns: minmax(300px, 420px) 1fr;
  /* esquerda fixa, direita fluida */
  gap: 16px;
  align-items: start;
}

/* Deixa o card de cria√ß√£o sempre vis√≠vel enquanto rola a direita */
.tw-templates .twt-col-left .twt-new {
  position: sticky;
  top: 8px;
  /* ajuste se tiver topbar fixa */
}

/* Responsivo: empilha */
@media (max-width: 1080px) {
  .tw-templates .twt-columns {
    grid-template-columns: 1fr;
  }

  .tw-templates .twt-col-left .twt-new {
    position: static;
  }
}