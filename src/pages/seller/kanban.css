/* ================================
   CORES POR ETAPA (data-stage)
   Mapeie seus slugs/ids aqui
   Exemplos: novo, contato, qualificado, proposta,
             followup, fechado, perdido
   ================================ */

/* Paleta base por etapa */
:root {
  --kb-stage-novo:        #6366F1; /* indigo-500 */
  --kb-stage-contato:     #06B6D4; /* cyan-500   */
  --kb-stage-qualificado: #10B981; /* emerald-500*/
  --kb-stage-proposta:    #F59E0B; /* amber-500  */
  --kb-stage-followup:    #A855F7; /* violet-500 */
  --kb-stage-fechado:     #22C55E; /* green-500  */
  --kb-stage-perdido:     #EF4444; /* red-500    */
}

/* Helper: função de background suave */
@supports (background: color-mix(in oklab, red 50%, blue 50%)) {
  .seller-kanban .kb-column,
  .seller-kanban .column,
  .seller-kanban [data-kb="column"] {
    background: color-mix(in oklab, var(--kb-surface) 95%, var(--kb-primary) 5%);
  }
}

/* ============ NOVO ============ */
.seller-kanban [data-stage="novo"] {
  border-color: color-mix(in oklab, var(--kb-stage-novo) 35%, var(--kb-border) 65%);
}
.seller-kanban [data-stage="novo"] .kb-header,
.seller-kanban [data-stage="novo"] .column-header {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, var(--kb-surface) 78%, var(--kb-stage-novo) 22%),
    color-mix(in oklab, var(--kb-surface) 90%, var(--kb-stage-novo) 10%)
  );
}
.seller-kanban [data-stage="novo"] .kb-count,
.seller-kanban [data-stage="novo"] .column-count {
  background: color-mix(in oklab, var(--kb-stage-novo) 20%, var(--kb-surface) 80%);
}

/* =========== CONTATO =========== */
.seller-kanban [data-stage="contato"] { border-color: color-mix(in oklab, var(--kb-stage-contato) 35%, var(--kb-border) 65%); }
.seller-kanban [data-stage="contato"] .kb-header,
.seller-kanban [data-stage="contato"] .column-header {
  background: linear-gradient(180deg,
    color-mix(in oklab, var(--kb-surface) 78%, var(--kb-stage-contato) 22%),
    color-mix(in oklab, var(--kb-surface) 90%, var(--kb-stage-contato) 10%)
  );
}
.seller-kanban [data-stage="contato"] .kb-count,
.seller-kanban [data-stage="contato"] .column-count {
  background: color-mix(in oklab, var(--kb-stage-contato) 20%, var(--kb-surface) 80%);
}

/* ========== QUALIFICADO ========= */
.seller-kanban [data-stage="qualificado"] { border-color: color-mix(in oklab, var(--kb-stage-qualificado) 35%, var(--kb-border) 65%); }
.seller-kanban [data-stage="qualificado"] .kb-header,
.seller-kanban [data-stage="qualificado"] .column-header {
  background: linear-gradient(180deg,
    color-mix(in oklab, var(--kb-surface) 78%, var(--kb-stage-qualificado) 22%),
    color-mix(in oklab, var(--kb-surface) 90%, var(--kb-stage-qualificado) 10%)
  );
}
.seller-kanban [data-stage="qualificado"] .kb-count,
.seller-kanban [data-stage="qualificado"] .column-count {
  background: color-mix(in oklab, var(--kb-stage-qualificado) 20%, var(--kb-surface) 80%);
}

/* ============ PROPOSTA ========== */
.seller-kanban [data-stage="proposta"] { border-color: color-mix(in oklab, var(--kb-stage-proposta) 35%, var(--kb-border) 65%); }
.seller-kanban [data-stage="proposta"] .kb-header,
.seller-kanban [data-stage="proposta"] .column-header {
  background: linear-gradient(180deg,
    color-mix(in oklab, var(--kb-surface) 78%, var(--kb-stage-proposta) 22%),
    color-mix(in oklab, var(--kb-surface) 90%, var(--kb-stage-proposta) 10%)
  );
}
.seller-kanban [data-stage="proposta"] .kb-count,
.seller-kanban [data-stage="proposta"] .column-count {
  background: color-mix(in oklab, var(--kb-stage-proposta) 20%, var(--kb-surface) 80%);
}

/* =========== FOLLOWUP =========== */
.seller-kanban [data-stage="followup"] { border-color: color-mix(in oklab, var(--kb-stage-followup) 35%, var(--kb-border) 65%); }
.seller-kanban [data-stage="followup"] .kb-header,
.seller-kanban [data-stage="followup"] .column-header {
  background: linear-gradient(180deg,
    color-mix(in oklab, var(--kb-surface) 78%, var(--kb-stage-followup) 22%),
    color-mix(in oklab, var(--kb-surface) 90%, var(--kb-stage-followup) 10%)
  );
}
.seller-kanban [data-stage="followup"] .kb-count,
.seller-kanban [data-stage="followup"] .column-count {
  background: color-mix(in oklab, var(--kb-stage-followup) 20%, var(--kb-surface) 80%);
}

/* ============ FECHADO =========== */
.seller-kanban [data-stage="fechado"] { border-color: color-mix(in oklab, var(--kb-stage-fechado) 35%, var(--kb-border) 65%); }
.seller-kanban [data-stage="fechado"] .kb-header,
.seller-kanban [data-stage="fechado"] .column-header {
  background: linear-gradient(180deg,
    color-mix(in oklab, var(--kb-surface) 78%, var(--kb-stage-fechado) 22%),
    color-mix(in oklab, var(--kb-surface) 90%, var(--kb-stage-fechado) 10%)
  );
}
.seller-kanban [data-stage="fechado"] .kb-count,
.seller-kanban [data-stage="fechado"] .column-count {
  background: color-mix(in oklab, var(--kb-stage-fechado) 20%, var(--kb-surface) 80%);
}

/* ============ PERDIDO =========== */
.seller-kanban [data-stage="perdido"] { border-color: color-mix(in oklab, var(--kb-stage-perdido) 35%, var(--kb-border) 65%); }
.seller-kanban [data-stage="perdido"] .kb-header,
.seller-kanban [data-stage="perdido"] .column-header {
  background: linear-gradient(180deg,
    color-mix(in oklab, var(--kb-surface) 78%, var(--kb-stage-perdido) 22%),
    color-mix(in oklab, var(--kb-surface) 90%, var(--kb-stage-perdido) 10%)
  );
}
.seller-kanban [data-stage="perdido"] .kb-count,
.seller-kanban [data-stage="perdido"] .column-count {
  background: color-mix(in oklab, var(--kb-stage-perdido) 20%, var(--kb-surface) 80%);
}

/* Badge de etapa dentro do card, se quiser espelhar a cor da coluna:
   Adicione data-stage também no card, ou use uma classe específica por etapa */
.seller-kanban [data-stage="novo"]    .kb-badge { background: color-mix(in oklab, var(--kb-stage-novo) 22%, var(--kb-surface) 78%); }
.seller-kanban [data-stage="contato"] .kb-badge { background: color-mix(in oklab, var(--kb-stage-contato) 22%, var(--kb-surface) 78%); }
.seller-kanban [data-stage="qualificado"] .kb-badge { background: color-mix(in oklab, var(--kb-stage-qualificado) 22%, var(--kb-surface) 78%); }
.seller-kanban [data-stage="proposta"]    .kb-badge { background: color-mix(in oklab, var(--kb-stage-proposta) 22%, var(--kb-surface) 78%); }
.seller-kanban [data-stage="followup"]    .kb-badge { background: color-mix(in oklab, var(--kb-stage-followup) 22%, var(--kb-surface) 78%); }
.seller-kanban [data-stage="fechado"]     .kb-badge { background: color-mix(in oklab, var(--kb-stage-fechado) 22%, var(--kb-surface) 78%); }
.seller-kanban [data-stage="perdido"]     .kb-badge { background: color-mix(in oklab, var(--kb-stage-perdido) 22%, var(--kb-surface) 78%); }
